# XyraPanel Settings
APP_NAME="XyraPanel"

# Environment
NODE_ENV="production"
DEBUG=false

# Application URLs / Auth
BETTER_AUTH_URL=https://panel.example.com
BETTER_AUTH_TRUSTED_ORIGINS=https://panel.example.com
NUXT_PUBLIC_APP_URL=https://panel.example.com

# Generate a strong secret with: openssl rand -base64 32
BETTER_AUTH_SECRET=

# Seed (used to bootstrap the first admin account via POST /api/system/seed)
# Generate with: openssl rand -base64 32
SEED_SECRET=
SEED_ADMIN_EMAIL="admin@example.com"
SEED_ADMIN_PASSWORD="changeme"
SEED_ADMIN_USERNAME="admin"
SEED_ADMIN_NAME="Admin"

# Database (PostgreSQL required)
# The app only reads DATABASE_URL. Set it to your PostgreSQL connection string.
DATABASE_URL="postgresql://xyra:changeme@postgres:5432/xyrapanel"

# Docker only: these configure the postgres container in docker-compose.yml
# They must match the credentials in DATABASE_URL above.
DB_USER="xyra"
DB_PASSWORD="changeme"
DB_NAME="xyrapanel"

# Redis
REDIS_HOST="redis"
REDIS_PORT="6379"
# REDIS_USERNAME=""
# REDIS_PASSWORD=""
# REDIS_TLS="false"

# Nitro / Nuxt Redis storage (server-side caching)
NITRO_STORAGE_CACHE_DRIVER="redis"
NITRO_STORAGE_CACHE_HOST="redis"
NITRO_STORAGE_CACHE_PORT="6379"
NUXT_REDIS_HOST="redis"
NUXT_REDIS_PORT="6379"

# Security
NUXT_SECURITY_CORS_ORIGIN="https://panel.example.com"
NUXT_SECURITY_CONNECT_SRC="https://panel.example.com"
NUXT_SECURITY_RATE_LIMIT_DRIVER="redis" # lruCache (default) or redis (recommended in production)
NUXT_SECURITY_RATE_LIMIT_TOKENS="150"
NUXT_SECURITY_RATE_LIMIT_INTERVAL_MS="300000"
NUXT_SECURITY_CSP_REPORT_ONLY="false" # Start in report-only (true), then set false to enforce CSP
NUXT_SECURITY_CSP_REPORT_URI="" # Optional endpoint for CSP violation reports
# - Secret rotation is handled operationally (rotate BETTER_AUTH_SECRET via your secret manager).
# - API key expiration policy is configured in server/utils/auth.ts via apiKey({ keyExpiration: ... }).

# HTTP Cache
NUXT_HTTP_CACHE_ENABLED="true"
NUXT_HTTP_CACHE_DEFAULT_MAX_AGE="5"
NUXT_HTTP_CACHE_DEFAULT_SWR="15"
NUXT_HTTP_CACHE_DASHBOARD_MAX_AGE="10"
NUXT_HTTP_CACHE_DASHBOARD_SWR="30"
NUXT_HTTP_CACHE_ADMIN_DASHBOARD_MAX_AGE="10"
NUXT_HTTP_CACHE_ADMIN_DASHBOARD_SWR="30"
NUXT_HTTP_CACHE_ADMIN_NODE_MAX_AGE="5"
NUXT_HTTP_CACHE_ADMIN_NODE_SWR="15"

# Captcha Provider (turnstile, recaptcha, or hcaptcha)
CAPTCHA_PROVIDER="turnstile"

# Cloudflare Turnstile
NUXT_TURNSTILE_SECRET_KEY=""
NUXT_PUBLIC_TURNSTILE_SITE_KEY="" # Test mode key: 1x00000000000000000000AA

# Google reCAPTCHA v3
# NUXT_RECAPTCHA_SECRET_KEY=""
# NUXT_RECAPTCHA_MIN_SCORE="0.5"

# hCaptcha
# NUXT_HCAPTCHA_SECRET_KEY=""
# NUXT_HCAPTCHA_SITE_KEY=""

# Request Limits (MB)
NUXT_MAX_REQUEST_SIZE_MB="10"
NUXT_MAX_UPLOAD_SIZE_MB="20"